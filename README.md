# Instant Compiler
### Author: Cezary Bednarz

## About
Haskell module which compiles Instant language files into JVM and LLVM code.
Instant language works similiary to `bc` command on Linux which is basically a calculator.

## Compilation
```make```

`make` runs `cabal install` and puts the executable file `compiler` into `dist-newstyle` directory.

Executable `compiler` runs with two arguments `<input file>` and `<compilation type>`:
  - `<input file>` is a path to input file written in Instant language
  - `<compilation type>` is either `jvm` or `llvm`; defines to which language compile the `<input file>`

## Running
This repository provides two helper bash scripts:
 - `insc_jvm <path to Instant file>` which compiles input file into Jasmin `.j` file and `.class` file which can be executed in JVM.
 - `insc_llvm <path to Instant file>` which compiles input into LLVM `.ll` and `.bc` file.

## Tools
Compiler is written in Haskell.
Cabal files were generated by `hpack` from `package.yaml`.
Parser is generated by BNFC version 2.9.1 using grammar defined in file `src/Instant.cf`.
All used modules are defined in `package.yaml` in the main directory.

## File structure
There are three directories:
  - `examples`: contains example input files with correct answers
  - `lib`: contains file `jasmin.jar` which is used to compile Jasmin files into Java class files.
  - `src`: contains all source files of module Compiler, some generated by BNFC and 4 compiler files:
    - `Main.hs`: main function
    - `Compiler.hs`: chooses compiler and executes it on input file
    - `CompileJVM.hs`: compiles AST into Jasmin code
    - `CompileLLVM.hs`: compiles AST into LLVM code

## References
This is a solution to task on the first semester of Master's degree Computer Science course at MIMUW.
Exact task is described in `instant.md` file.
